<form hx-post="/admin/users/{{ user.id }}/edit" hx-target="#user-row-{{ user.id }}" hx-swap="outerHTML"
    hx-on::after-request="document.getElementById('modal').style.display='none'" class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Edit User: {{ user.username }}</h2>

    <div class="mb-4">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input type="email" id="email" name="email" value="{{ user.email }}" required
            class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
    </div>

    <div class="mb-6 flex items-center">
        {% set force_change = user.attributes.get("force_password_change", False) if user.attributes else False %}
        <input type="checkbox" id="force_password_change" name="force_password_change" value="true"
            class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" {% if force_change %}checked{% endif %}>
        <label for="force_password_change" class="ml-2 block text-sm text-gray-900">Force password change on next
            login</label>
    </div>

    <div class="flex justify-end space-x-3">
        <button type="button" onclick="document.getElementById('modal').style.display='none'"
            class="bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">Cancel</button>
        <button type="submit"
            class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Save
            Changes</button>
    </div>
</form>
